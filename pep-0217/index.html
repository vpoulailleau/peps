
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <title>PEP 217 – Display Hook for Interactive Use | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png"/>
    <link rel="canonical" href="https://peps.python.org/pep-0217.html" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/mq.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="css-dark"/>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg" />
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark" />
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <meta name="description" content="Python Enhancement Proposals (PEPs)"/>
</head>
<body>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 217 – Display Hook for Interactive Use</li>
            </ul>
            <button aria-label="Toggle dark mode" onClick="toggleColourScheme()"></button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 217 – Display Hook for Interactive Use</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">PEP</dt>
<dd class="field-odd">217</dd>
<dt class="field-even">Title</dt>
<dd class="field-even">Display Hook for Interactive Use</dd>
<dt class="field-odd">Author</dt>
<dd class="field-odd">moshez&#32;&#97;t&#32;zadka.site.co.il (Moshe Zadka)</dd>
<dt class="field-even">Status</dt>
<dd class="field-even">Final</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd">Standards Track</dd>
<dt class="field-even">Created</dt>
<dd class="field-even">31-Jul-2000</dd>
<dt class="field-odd">Python-Version</dt>
<dd class="field-odd">2.1</dd>
<dt class="field-even">Post-History</dt>
<dd class="field-even"><p></p></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#interface">Interface</a></li>
<li><a class="reference internal" href="#solution">Solution</a></li>
<li><a class="reference internal" href="#jython-issues">Jython Issues</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract">Abstract</a></h2>
<p>Python’s interactive mode is one of the implementation’s great
strengths – being able to write expressions on the command line
and get back a meaningful output.  However, the output function
cannot be all things to all people, and the current output
function too often falls short of this goal.  This PEP describes a
way to provides alternatives to the built-in display function in
Python, so users will have control over the output from the
interactive interpreter.</p>
</section>
<section id="interface">
<h2><a class="toc-backref" href="#interface">Interface</a></h2>
<p>The current Python solution has worked for many users, and this
should not break it. Therefore, in the default configuration,
nothing will change in the REPL loop. To change the way the
interpreter prints interactively entered expressions, users
will have to rebind <code class="docutils literal notranslate"><span class="pre">sys.displayhook</span></code> to a callable object.
The result of calling this object with the result of the
interactively entered expression should be print-able,
and this is what will be printed on <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code>.</p>
</section>
<section id="solution">
<h2><a class="toc-backref" href="#solution">Solution</a></h2>
<p>The bytecode <code class="docutils literal notranslate"><span class="pre">PRINT_EXPR</span></code> will call <code class="docutils literal notranslate"><span class="pre">sys.displayhook(POP())</span></code>.
A <code class="docutils literal notranslate"><span class="pre">displayhook()</span></code> will be added to the sys builtin module, which is
equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import __builtin__
def displayhook(o):
    if o is None:
        return
    __builtin__._ = None
    print `o`
    __builtin__._ = o
</pre></div>
</div>
</section>
<section id="jython-issues">
<h2><a class="toc-backref" href="#jython-issues">Jython Issues</a></h2>
<p>The method <code class="docutils literal notranslate"><span class="pre">Py.printResult</span></code> will be similarly changed.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/pep-0217.txt">https://github.com/python/peps/blob/main/pep-0217.txt</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/pep-0217.txt">2017-11-11 19:28:55 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <p id="toc-title">PEP 217 – Display Hook for Interactive Use</p>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#interface">Interface</a></li>
<li><a class="reference internal" href="#solution">Solution</a></li>
<li><a class="reference internal" href="#jython-issues">Jython Issues</a></li>
</ul>

            <br />
            <a id="source" href="https://github.com/python/peps/blob/main/pep-0217.txt">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
</body>
</html>