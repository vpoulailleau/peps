
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <title>PEP 566 – Metadata for Python Software Packages 2.1 | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png"/>
    <link rel="canonical" href="https://peps.python.org/pep-0566.html" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/mq.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="css-dark"/>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg" />
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark" />
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <meta name="description" content="Python Enhancement Proposals (PEPs)"/>
</head>
<body>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 566 – Metadata for Python Software Packages 2.1</li>
            </ul>
            <button aria-label="Toggle dark mode" onClick="toggleColourScheme()"></button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 566 – Metadata for Python Software Packages 2.1</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">PEP</dt>
<dd class="field-odd">566</dd>
<dt class="field-even">Title</dt>
<dd class="field-even">Metadata for Python Software Packages 2.1</dd>
<dt class="field-odd">Author</dt>
<dd class="field-odd">Dustin Ingram &lt;di&#32;&#97;t&#32;python.org&gt;</dd>
<dt class="field-even">BDFL-Delegate</dt>
<dd class="field-even">Daniel Holth</dd>
<dt class="field-odd">Discussions-To</dt>
<dd class="field-odd"><a class="reference external" href="mailto:distutils-sig&#37;&#52;&#48;python&#46;org">distutils-sig<span>&#64;</span>python<span>&#46;</span>org</a></dd>
<dt class="field-even">Status</dt>
<dd class="field-even">Final</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd">Standards Track</dd>
<dt class="field-even">Created</dt>
<dd class="field-even">01-Dec-2017</dd>
<dt class="field-odd">Python-Version</dt>
<dd class="field-odd">3.x</dd>
<dt class="field-even">Post-History</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">Replaces</dt>
<dd class="field-odd"><a class="reference external" href="../pep-0345">345</a></dd>
<dt class="field-even">Resolution</dt>
<dd class="field-even"><a class="reference external" href="https://mail.python.org/pipermail/distutils-sig/2018-February/032014.html">Distutils-SIG</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#fields">Fields</a><ul>
<li><a class="reference internal" href="#new-in-version-2-1">New in Version 2.1</a><ul>
<li><a class="reference internal" href="#description-content-type-optional">Description-Content-Type (optional)</a></li>
<li><a class="reference internal" href="#provides-extra-optional-multiple-use">Provides-Extra (optional, multiple use)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changed-in-version-2-1">Changed in Version 2.1</a><ul>
<li><a class="reference internal" href="#name">Name</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#version-specifiers">Version Specifiers</a></li>
<li><a class="reference internal" href="#environment-markers">Environment markers</a></li>
<li><a class="reference internal" href="#json-compatible-metadata">JSON-compatible Metadata</a></li>
<li><a class="reference internal" href="#summary-of-differences-from-pep-345">Summary of Differences From PEP 345</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract">Abstract</a></h2>
<p>This PEP describes the changes between versions 1.2 and 2.1 of the core
metadata specification for Python packages. Version 1.2 is specified in PEP
345.</p>
<p>It also changes to the canonical source for field specifications to the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core
Metadata Specification</a> reference document, which includes specifics of the
field names, and their semantics and usage.</p>
</section>
<section id="fields">
<h2><a class="toc-backref" href="#fields">Fields</a></h2>
<p>The canonical source for the names and semantics of each of the supported
metadata fields is the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata Specification</a> document.</p>
<p>Fields marked with “(Multiple use)” may be specified multiple times in a single
PKG-INFO file.  Other fields may only occur once in a PKG-INFO file.  Fields
marked with “(optional)” are not required to appear in a valid PKG-INFO file;
all other fields must be present.</p>
<section id="new-in-version-2-1">
<h3><a class="toc-backref" href="#new-in-version-2-1">New in Version 2.1</a></h3>
<section id="description-content-type-optional">
<h4><a class="toc-backref" href="#description-content-type-optional">Description-Content-Type (optional)</a></h4>
<p>A string stating the markup syntax (if any) used in the distribution’s
description, so that tools can intelligently render the description.</p>
<p>Historically, tools like PyPI assume that a package’s description is formatted
in <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html">reStructuredText (reST)</a>, and
fall back on plain text if the description is not valid reST.</p>
<p>The introduction of this field allows PyPI to support additional types of
markup syntax, and not need to make this assumption.</p>
<p>The full specification for this field is defined in the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata
Specification</a>.</p>
</section>
<section id="provides-extra-optional-multiple-use">
<h4><a class="toc-backref" href="#provides-extra-optional-multiple-use">Provides-Extra (optional, multiple use)</a></h4>
<p>A string containing the name of an optional feature. Must be a valid Python
identifier. May be used to make a dependency conditional on whether the
optional feature has been requested.</p>
<p>This introduction of this field allows package installation tools (such as
<code class="docutils literal notranslate"><span class="pre">pip</span></code>) to determine which extras are provided by a given package, and so that
package publication tools (such as <code class="docutils literal notranslate"><span class="pre">twine</span></code>) can check for issues with
environment markers which use extras.</p>
<p>The full specification for this field is defined in the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata
Specification</a>.</p>
</section>
</section>
<section id="changed-in-version-2-1">
<h3><a class="toc-backref" href="#changed-in-version-2-1">Changed in Version 2.1</a></h3>
<section id="name">
<h4><a class="toc-backref" href="#name">Name</a></h4>
<p>The specification for the format of this field is now identical to the
distribution name specification defined in <a class="pep reference internal" href="../pep-0508" title="PEP 508 – Dependency specification for Python Software Packages">PEP 508</a>.</p>
</section>
<section id="description">
<h4><a class="toc-backref" href="#description">Description</a></h4>
<p>In addition to the <code class="docutils literal notranslate"><span class="pre">Description</span></code> header field, the distribution’s
description may instead be provided in the message body (i.e., after a
completely blank line following the headers, with no indentation or other
special formatting necessary).</p>
</section>
</section>
</section>
<section id="version-specifiers">
<h2><a class="toc-backref" href="#version-specifiers">Version Specifiers</a></h2>
<p>Version numbering requirements and the semantics for specifying comparisons
between versions are defined in <a class="pep reference internal" href="../pep-0440" title="PEP 440 – Version Identification and Dependency Specification">PEP 440</a>. Direct references as defined in
<a class="pep reference internal" href="../pep-0440" title="PEP 440 – Version Identification and Dependency Specification">PEP 440</a> are also permitted as an alternative to version specifiers.</p>
<p>Following <a class="pep reference internal" href="../pep-0508" title="PEP 508 – Dependency specification for Python Software Packages">PEP 508</a>, version specifiers no longer need to be surrounded by
parentheses in the fields Requires-Dist, Provides-Dist, Obsoletes-Dist or
Requires-External, so e.g. <code class="docutils literal notranslate"><span class="pre">requests</span> <span class="pre">&gt;=</span> <span class="pre">2.8.1</span></code> is now a valid value.
The recommended format is without parentheses, but tools parsing metadata should
also be able to handle version specifiers in parentheses. Further, public index
servers MAY prohibit strict version matching clauses or direct references in
these fields.</p>
<p>Usage of version specifiers is otherwise unchanged from <a class="pep reference internal" href="../pep-0345" title="PEP 345 – Metadata for Python Software Packages 1.2">PEP 345</a>.</p>
</section>
<section id="environment-markers">
<h2><a class="toc-backref" href="#environment-markers">Environment markers</a></h2>
<p>An <strong>environment marker</strong> is a marker that can be added at the end of a
field after a semi-colon (“;”), to add a condition about the execution
environment.</p>
<p>The environment marker format used to declare such a condition is defined in
the environment markers section of <a class="pep reference internal" href="../pep-0508" title="PEP 508 – Dependency specification for Python Software Packages">PEP 508</a>.</p>
<p>Usage of environment markers is otherwise unchanged from <a class="pep reference internal" href="../pep-0345" title="PEP 345 – Metadata for Python Software Packages 1.2">PEP 345</a>.</p>
</section>
<section id="json-compatible-metadata">
<h2><a class="toc-backref" href="#json-compatible-metadata">JSON-compatible Metadata</a></h2>
<p>It may be necessary to store metadata in a data structure which does not
allow for multiple repeated keys, such as JSON.</p>
<p>The canonical method to transform metadata fields into such a data structure is
as follows:</p>
<ol class="arabic simple">
<li>The original key-value format should be read with
<code class="docutils literal notranslate"><span class="pre">email.parser.HeaderParser</span></code>;</li>
<li>All transformed keys should be reduced to lower case. Hyphens should be
replaced with underscores, but otherwise should retain all other characters;</li>
<li>The transformed value for any field marked with “(Multiple-use”) should be a
single list containing all the original values for the given key;</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Keywords</span></code> field should be converted to a list by splitting the
original value on whitespace characters;</li>
<li>The message body, if present, should be set to the value of the
<code class="docutils literal notranslate"><span class="pre">description</span></code> key.</li>
<li>The result should be stored as a string-keyed dictionary.</li>
</ol>
</section>
<section id="summary-of-differences-from-pep-345">
<h2><a class="toc-backref" href="#summary-of-differences-from-pep-345">Summary of Differences From PEP 345</a></h2>
<ul class="simple">
<li>Metadata-Version is now 2.1.</li>
<li>Fields are now specified via the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata Specification</a>.</li>
<li>Added two new fields: <code class="docutils literal notranslate"><span class="pre">Description-Content-Type</span></code> and <code class="docutils literal notranslate"><span class="pre">Provides-Extra</span></code></li>
<li>Acceptable values for the <code class="docutils literal notranslate"><span class="pre">Name</span></code> field are now specified as per <a class="pep reference internal" href="../pep-0508" title="PEP 508 – Dependency specification for Python Software Packages">PEP 508</a>.</li>
<li>Added canonical method of transformation into JSON-compatible data structure.</li>
</ul>
</section>
<section id="references">
<h2><a class="toc-backref" href="#references">References</a></h2>
<p>This document specifies version 2.1 of the metadata format.
Version 1.0 is specified in <a class="pep reference internal" href="../pep-0241" title="PEP 241 – Metadata for Python Software Packages">PEP 241</a>.
Version 1.1 is specified in <a class="pep reference internal" href="../pep-0314" title="PEP 314 – Metadata for Python Software Packages v1.1">PEP 314</a>.
Version 1.2 is specified in <a class="pep reference internal" href="../pep-0345" title="PEP 345 – Metadata for Python Software Packages 1.2">PEP 345</a>.
Version 2.0, while not formally accepted, was specified in <a class="pep reference internal" href="../pep-0426" title="PEP 426 – Metadata for Python Software Packages 2.0">PEP 426</a>.</p>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright">Copyright</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
<section id="acknowledgements">
<h2><a class="toc-backref" href="#acknowledgements">Acknowledgements</a></h2>
<p>Thanks to Nick Coghlan and Thomas Kluyver for contributing to this PEP.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/pep-0566.rst">https://github.com/python/peps/blob/main/pep-0566.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/pep-0566.rst">2022-02-27 22:46:36 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <p id="toc-title">PEP 566 – Metadata for Python Software Packages 2.1</p>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#fields">Fields</a><ul>
<li><a class="reference internal" href="#new-in-version-2-1">New in Version 2.1</a><ul>
<li><a class="reference internal" href="#description-content-type-optional">Description-Content-Type (optional)</a></li>
<li><a class="reference internal" href="#provides-extra-optional-multiple-use">Provides-Extra (optional, multiple use)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changed-in-version-2-1">Changed in Version 2.1</a><ul>
<li><a class="reference internal" href="#name">Name</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#version-specifiers">Version Specifiers</a></li>
<li><a class="reference internal" href="#environment-markers">Environment markers</a></li>
<li><a class="reference internal" href="#json-compatible-metadata">JSON-compatible Metadata</a></li>
<li><a class="reference internal" href="#summary-of-differences-from-pep-345">Summary of Differences From PEP 345</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>

            <br />
            <a id="source" href="https://github.com/python/peps/blob/main/pep-0566.rst">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
</body>
</html>